(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(49)},26:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),r=a(18),n=a.n(r),c=(a(26),a(2)),i=a(19),h=a(3),p=a(4),l=a(7),d=a(5),u=a(8),m=a(6),f=a.n(m),v=a(20),g=a.n(v),b=(a(48),o.a.Component),E=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).favoriteImage=function(t,a){void 0===e.state.favorites[t]&&(e.state.favorites[t]=!1),e.setState({favorites:Object(i.a)({},e.state.favorites,Object(c.a)({},t,!e.state.favorites[t]))})},e.checkFavorite=function(t){return e.state.favorites[t]},e.handleSearch=function(t){t.preventDefault(),e.state.adress=document.getElementById("search_text").value,e.state.adress?e.state.updated=!0:e.state.updated=!1,e.state.currentPage=1,e.fetchPhotos(1),console.log("Button Clicked!")},e.state={photos:[],favorites:{},totalPhotos:0,perPage:12,currentPage:1,adress:"",hasMore:!0,updated:!1},e}return Object(u.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchPhotos(this.state.currentPage)}},{key:"fetchPhotos",value:function(e){var t,a=this,s=this.state.perPage,o={params:{client_id:this.props.appId,page:this.state.currentPage,per_page:s,query:this.state.adress}};!1===this.state.updated?(t="https://api.unsplash.com/photos",f.a.get(t,o).then(function(e){if(console.log(e),e){if(1===o.params.page)var t=[];else t=a.state.photos;e.data.map(function(e){t.push(e)})}a.setState({photos:t,totalPhotos:parseInt(e.headers["x-total"]),currentPage:o.params.page+1})}),this.state.photos.totalPhotos===this.state.photos.length&&a.setState({hasMore:!1})):(t="https://api.unsplash.com/search/photos",f.a.get(t,o).then(function(e){if(console.log(e),e){if(1===o.params.page)var t=[];else t=a.state.photos;e.data.results.map(function(e){t.push(e)})}a.setState({photos:t,totalPhotos:parseInt(e.headers["x-total"]),currentPage:o.params.page+1})}),this.state.photos.totalPhotos===this.state.photos.length&&a.setState({hasMore:!1}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"search"},o.a.createElement("form",{className:"search_field"},o.a.createElement("input",{type:"text",id:"search_text",placeholder:"Search"}),o.a.createElement("button",{type:"submit",id:"search_button",onClick:this.handleSearch},o.a.createElement("i",{className:"fa fa-search search_icon"})))),o.a.createElement(g.a,{pageStart:0,loadMore:this.fetchPhotos.bind(this),hasMore:this.state.hasMore},o.a.createElement(_,{data:this.state.photos,favoriteImage:this.favoriteImage,checkFavorite:this.checkFavorite})))}}]),t}(b),k=function(e){function t(){return Object(h.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{key:this.props.photo.id,className:"grid__item card"},o.a.createElement("div",{className:"card__body"},o.a.createElement("img",{src:this.props.photo.urls.small,alt:""})),o.a.createElement("div",{className:"card__footer media"},o.a.createElement("img",{src:this.props.photo.user.profile_image.small,alt:"",className:"media__obj"}),o.a.createElement("div",{className:"media__body"},o.a.createElement("a",{href:this.props.photo.user.portfolio_url},this.props.photo.user.name),o.a.createElement("span",{className:this.props.checkFavorite(this.props.photo.id)?"fa fa-heart favorite":"fa fa-heart-o favorite",onClick:function(t){return e.props.favoriteImage(e.props.photo.id,t)}}))))}}]),t}(b),_=function(e){var t=e.data,a=e.favoriteImage,s=e.checkFavorite,r=t.map(function(e){return o.a.createElement(k,{key:e.id,photo:e,favoriteImage:a,checkFavorite:s})});return o.a.createElement("div",{className:"grid"},r)},P=E;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(o.a.createElement(P,{appId:"dc7f31dd7f825257c785c19af12b47eed45974963d20ced5d5e617c59ace6faf",baseUrl:"https://api.unsplash.com/photos/curated"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.707e3073.chunk.js.map