(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(t,e,a){t.exports=a(49)},26:function(t,e,a){},48:function(t,e,a){},49:function(t,e,a){"use strict";a.r(e);var s=a(0),o=a.n(s),r=a(18),n=a.n(r),i=(a(26),a(2)),c=a(19),h=a(3),p=a(4),l=a(7),d=a(5),u=a(8),m=a(6),f=a.n(m),v=a(20),g=a.n(v),b=(a(48),o.a.Component),E=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(l.a)(this,Object(d.a)(e).call(this))).favoriteImage=function(e,a){void 0===t.state.favorites[e]&&(t.state.favorites[e]=!1),t.setState({favorites:Object(c.a)({},t.state.favorites,Object(i.a)({},e,!t.state.favorites[e]))})},t.checkFavorite=function(e){return t.state.favorites[e]},t.handleSearch=function(e){e.preventDefault(),t.state.adress=document.getElementById("search_text").value,t.state.adress?t.state.updated=!0:t.state.updated=!1,t.state.currentPage=1,t.fetchPhotos(1),console.log("Button Clicked!")},t.state={photos:[],favorites:{},totalPhotos:0,perPage:12,currentPage:1,adress:"",hasMore:!0,updated:!1},t}return Object(u.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.fetchPhotos(this.state.currentPage)}},{key:"fetchPhotos",value:function(t){var e,a=this,s=this.state.perPage,o={params:{client_id:this.props.appId,page:this.state.currentPage,per_page:s,query:this.state.adress}};!1===this.state.updated?(e="https://api.unsplash.com/photos/random",f.a.get(e,o).then(function(t){if(t){if(1===o.params.page)var e=[];else e=a.state.photos;t.data.map(function(t){e.push(t)})}a.setState({photos:e,totalPhotos:parseInt(t.headers["x-total"]),currentPage:o.params.page+1})}),this.state.photos.totalPhotos===this.state.photos.length&&a.setState({hasMore:!1})):(e="https://api.unsplash.com/search/photos",f.a.get(e,o).then(function(t){if(t){if(1===o.params.page)var e=[];else e=a.state.photos;t.data.results.map(function(t){e.push(t)})}a.setState({photos:e,totalPhotos:parseInt(t.headers["x-total"]),currentPage:o.params.page+1})}),this.state.photos.totalPhotos===this.state.photos.length&&a.setState({hasMore:!1}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"search"},o.a.createElement("form",{className:"search_field"},o.a.createElement("input",{type:"text",id:"search_text",placeholder:"Search"}),o.a.createElement("button",{type:"submit",id:"search_button",onClick:this.handleSearch},o.a.createElement("i",{className:"fa fa-search search_icon"})))),o.a.createElement(g.a,{pageStart:0,loadMore:this.fetchPhotos.bind(this),hasMore:this.state.hasMore},o.a.createElement(_,{data:this.state.photos,favoriteImage:this.favoriteImage,checkFavorite:this.checkFavorite})))}}]),e}(b),k=function(t){function e(){return Object(h.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this;return o.a.createElement("div",{key:this.props.photo.id,className:"grid__item card"},o.a.createElement("div",{className:"card__body"},o.a.createElement("img",{src:this.props.photo.urls.small,alt:""})),o.a.createElement("div",{className:"card__footer media"},o.a.createElement("img",{src:this.props.photo.user.profile_image.small,alt:"",className:"media__obj"}),o.a.createElement("div",{className:"media__body"},o.a.createElement("a",{href:this.props.photo.user.portfolio_url},this.props.photo.user.name),o.a.createElement("span",{className:this.props.checkFavorite(this.props.photo.id)?"fa fa-heart favorite":"fa fa-heart-o favorite",onClick:function(e){return t.props.favoriteImage(t.props.photo.id,e)}}))))}}]),e}(b),_=function(t){var e=t.data,a=t.favoriteImage,s=t.checkFavorite,r=e.map(function(t){return o.a.createElement(k,{key:t.id,photo:t,favoriteImage:a,checkFavorite:s})});return o.a.createElement("div",{className:"grid"},r)},P=E;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(o.a.createElement(P,{appId:"dc7f31dd7f825257c785c19af12b47eed45974963d20ced5d5e617c59ace6faf",baseUrl:"https://api.unsplash.com/photos/curated"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.1529fdcf.chunk.js.map