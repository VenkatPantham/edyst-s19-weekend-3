{"version":3,"sources":["index.js"],"names":["adress","Component","React","render","ReactDOM","LOAD_STATE","SUCCESS","ERROR","LOADING","App","_this","obj","key","value","Object","_home_venkat_pantham_Desktop_Edyst_unsplash_react_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_venkat_pantham_Desktop_Edyst_unsplash_react_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_venkat_pantham_Desktop_Edyst_unsplash_react_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","_home_venkat_pantham_Desktop_Edyst_unsplash_react_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","event","preventDefault","document","getElementById","state","updated","console","log","fetchPhotos","defineProperty","enumerable","configurable","writable","photos","totalPhotos","perPage","currentPage","loadState","page","baseUrl","_this2","self","options","params","client_id","props","appId","per_page","query","setState","axios","get","then","response","data","parseInt","headers","catch","results","createElement","className","type","id","placeholder","href","onClick","handleSearch","Pagination","current","total","onPageChanged","bind","List","ListItem","_ref","photo","src","urls","small","alt","user","profile_image","portfolio_url","target","name","_ref2","items","map","pages","i","rangeStart","rangeEnd","push","start","pageRange","end","totalPages","Math","ceil","_this3","hasPrev","e","changePage","prevPage","hasFirst","index","hasLast","hasNext","nextPage","defaultProps"],"mappings":"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","file":"static/js/main.17a600b6.chunk.js","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport axios from 'axios'\nimport './index.css'\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nconst { Component } = React;\nconst { render } = ReactDOM;\nvar adress;\nconst LOAD_STATE = {\n  SUCCESS: \"SUCCESS\",\n  ERROR: \"ERROR\",\n  LOADING: \"LOADING\"\n};\n\nclass App extends Component {\n  constructor() {\n    super();\n    _defineProperty(\n      this,\n      \"handleSearch\",\n\n      event => {\n        event.preventDefault();\n        adress = document.getElementById(\"search_text\").value;\n        if (adress) this.state.updated = true;\n        else this.state.updated = false;\n        console.log(\"Button Clicked!\");\n        this.fetchPhotos(1);\n      }\n    );\n    this.state = {\n      photos: [],\n      totalPhotos: 0,\n      perPage: 5,\n      currentPage: 1,\n      updated: false,\n      loadState: LOAD_STATE.LOADING\n    };\n  }\n  componentDidMount() {\n    this.fetchPhotos(this.state.currentPage);\n  }\n  fetchPhotos(page) {\n    var self = this;\n    const { perPage } = this.state;\n    const { appId } = this.props;\n    var baseUrl;\n    const options = {\n      params: { client_id: appId, page: page, per_page: perPage, query: adress }\n    };\n    this.setState({ loadState: LOAD_STATE.LOADING });\n    if (this.state.updated === false) {\n      baseUrl = \"https://api.unsplash.com/photos/curated\";\n      axios\n        .get(baseUrl, options)\n        .then(response => {\n          self.setState({\n            photos: response.data,\n            totalPhotos: parseInt(response.headers[\"x-total\"]),\n            currentPage: page,\n            loadState: LOAD_STATE.SUCCESS\n          });\n        })\n        .catch(() => {\n          this.setState({ loadState: LOAD_STATE.ERROR });\n        });\n    } else {\n      baseUrl = \"https://api.unsplash.com/search/photos\";\n      axios\n        .get(baseUrl, options)\n        .then(response => {\n          self.setState({\n            photos: response.data.results,\n            totalPhotos: parseInt(response.headers[\"x-total\"]),\n            currentPage: page,\n            loadState: LOAD_STATE.SUCCESS\n          });\n        })\n        .catch(() => {\n          this.setState({ loadState: LOAD_STATE.ERROR });\n        });\n    }\n  }\n  render() {\n    return React.createElement(\n      \"div\",\n      { className: \"app\" },\n      React.createElement(\n        \"div\",\n        { className: \"search\" },\n        React.createElement(\n          \"form\",\n          { className: \"search_field\" },\n          React.createElement(\"input\", {\n            type: \"text\",\n            id: \"search_text\",\n            placeholder: \"Search\"\n          }),\n\n          React.createElement(\n            \"a\",\n            { href: \"#\" },\n            React.createElement(\n              \"button\",\n              {\n                type: \"submit\",\n                id: \"search_button\",\n                onClick: this.handleSearch\n              },\n              React.createElement(\"i\", { className: \"fa fa-search\" })\n            )\n          )\n        )\n      ),\n\n      React.createElement(Pagination, {\n        current: this.state.currentPage,\n        total: this.state.totalPhotos,\n        perPage: this.state.perPage,\n        onPageChanged: this.fetchPhotos.bind(this)\n      }),\n\n      this.state.loadState === LOAD_STATE.LOADING\n        ? React.createElement(\"div\", { className: \"loader\" })\n        : React.createElement(List, { data: this.state.photos })\n    );\n  }\n}\n\nconst ListItem = ({ photo }) => {\n  return React.createElement(\n    \"div\",\n    { key: photo.id, className: \"grid__item card\" },\n    React.createElement(\n      \"div\",\n      { className: \"card__body\" },\n      React.createElement(\"img\", { src: photo.urls.small, alt: \"\" })\n    ),\n\n    React.createElement(\n      \"div\",\n      { className: \"card__footer media\" },\n      React.createElement(\"img\", {\n        src: photo.user.profile_image.small,\n        alt: \"\",\n        className: \"media__obj\"\n      }),\n      React.createElement(\n        \"div\",\n        { className: \"media__body\" },\n        React.createElement(\n          \"a\",\n          { href: photo.user.portfolio_url, target: \"_blank\" },\n          photo.user.name\n        )\n      )\n    )\n  );\n};\n\nconst List = ({ data }) => {\n  var items = data.map(photo =>\n    React.createElement(ListItem, { key: photo.id, photo: photo })\n  );\n  return React.createElement(\"div\", { className: \"grid\" }, items);\n};\n\nclass Pagination extends Component {\n  pages() {\n    var pages = [];\n    for (var i = this.rangeStart(); i <= this.rangeEnd(); i++) {\n      pages.push(i);\n    }\n    return pages;\n  }\n\n  rangeStart() {\n    var start = this.props.current - this.props.pageRange;\n    return start > 0 ? start : 1;\n  }\n\n  rangeEnd() {\n    var end = this.props.current + this.props.pageRange;\n    var totalPages = this.totalPages();\n    return end < totalPages ? end : totalPages;\n  }\n\n  totalPages() {\n    return Math.ceil(this.props.total / this.props.perPage);\n  }\n\n  nextPage() {\n    return this.props.current + 1;\n  }\n\n  prevPage() {\n    return this.props.current - 1;\n  }\n\n  hasFirst() {\n    return this.rangeStart() !== 1;\n  }\n\n  hasLast() {\n    return this.rangeEnd() < this.totalPages();\n  }\n\n  hasPrev() {\n    return this.props.current > 1;\n  }\n\n  hasNext() {\n    return this.props.current < this.totalPages();\n  }\n\n  changePage(page) {\n    this.props.onPageChanged(page);\n  }\n\n  render() {\n    return React.createElement(\n      \"div\",\n      { className: \"pagination\" },\n      React.createElement(\n        \"div\",\n        { className: \"pagination__left\" },\n        React.createElement(\n          \"a\",\n          {\n            href: \"#\",\n            className: !this.hasPrev() ? \"hidden\" : \"\",\n            onClick: e => this.changePage(this.prevPage())\n          },\n          \"Prev\"\n        )\n      ),\n\n      React.createElement(\n        \"div\",\n        { className: \"pagination__mid\" },\n        React.createElement(\n          \"ul\",\n          null,\n          React.createElement(\n            \"li\",\n            { className: !this.hasFirst() ? \"hidden\" : \"\" },\n            React.createElement(\n              \"a\",\n              { href: \"#\", onClick: e => this.changePage(1) },\n              \"1\"\n            )\n          ),\n\n          React.createElement(\n            \"li\",\n            { className: !this.hasFirst() ? \"hidden\" : \"\" },\n            \"...\"\n          ),\n\n          this.pages().map((page, index) => {\n            return React.createElement(\n              \"li\",\n              { key: index },\n              React.createElement(\n                \"a\",\n                {\n                  href: \"#\",\n                  onClick: e => this.changePage(page),\n                  className: this.props.current === page ? \"current\" : \"\"\n                },\n                page\n              )\n            );\n          }),\n\n          React.createElement(\n            \"li\",\n            { className: !this.hasLast() ? \"hidden\" : \"\" },\n            \"...\"\n          ),\n          React.createElement(\n            \"li\",\n            { className: !this.hasLast() ? \"hidden\" : \"\" },\n            React.createElement(\n              \"a\",\n              { href: \"#\", onClick: e => this.changePage(this.totalPages()) },\n              this.totalPages()\n            )\n          )\n        )\n      ),\n\n      React.createElement(\n        \"div\",\n        { className: \"pagination__right\" },\n        React.createElement(\n          \"a\",\n          {\n            href: \"#\",\n            className: !this.hasNext() ? \"hidden\" : \"\",\n            onClick: e => this.changePage(this.nextPage())\n          },\n          \"Next\"\n        )\n      )\n    );\n  }\n}\nPagination.defaultProps = {\n  pageRange: 2\n};\n\nrender(\n  React.createElement(App, {\n    appId: 'dc7f31dd7f825257c785c19af12b47eed45974963d20ced5d5e617c59ace6faf'\n  }),\n\n  document.getElementById(\"mount-point\")\n);\n"],"sourceRoot":""}